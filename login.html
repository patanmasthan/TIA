<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Resource Program</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  font-family:'Poppins',sans-serif;
  color:#fff;
  height:100vh;
  overflow:hidden;
}

/* Background video */
video{
  position:fixed;
  top:50%;
  left:50%;
  width:100%;
  height:100%;
  object-fit:cover;
  transform:translate(-50%,-50%);
  z-index:-1;
  filter:brightness(0.45);
  pointer-events:none;
}

/* Welcome */
#welcomeScreen{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
}

#welcomeScreen h1{
  font-size:42px;
}

#welcomeScreen button{
  padding:14px 32px;
  font-size:18px;
  border:none;
  border-radius:10px;
  background:#6c63ff;
  color:#fff;
  cursor:pointer;
}

/* Auth */
.container{
  display:none;
  height:100vh;
  justify-content:center;
  align-items:center;
}

.auth-box{
  width:420px;
  background:rgba(0,0,0,0.65);
  backdrop-filter:blur(10px);
  padding:35px;
  border-radius:18px;
}

.tabs{
  display:flex;
  margin-bottom:20px;
}

.tab-btn{
  flex:1;
  padding:12px;
  border:none;
  background:#6c63ff;
  color:#fff;
  cursor:pointer;
}

.tab-btn.active{
  background:#574fd6;
}

.card{display:none}
.card.active{display:block}

input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:8px;
}
</style>
</head>

<body>

<!-- VIDEOS -->
<video autoplay muted loop id="welcomeVideo">
  <source src="images/13232-246463976.mp4" type="video/mp4">
</video>

<video autoplay muted loop id="loginVideo" style="display:none">
  <source src="images/stock-footage-colorful-cartoon-style-animation-of-smartphone-and-masked-hacker-spying-on-user-login-and-password.webm" type="video/webm">
</video>

<!-- WELCOME -->
<div id="welcomeScreen">
  <h1>Student Resource Program</h1>
  <button onclick="startApp()">Get Started</button>
</div>

<!-- AUTH -->
<div class="container" id="mainContainer">
  <div class="auth-box">

    <div class="tabs">
      <button class="tab-btn active" onclick="openTab('login',this)">Login</button>
      <button class="tab-btn" onclick="openTab('register',this)">Register</button>
    </div>

    <div class="card active" id="login">
      <form id="loginForm">
        <input id="loginEmail" type="email" placeholder="Email" required>
        <input id="loginPassword" type="password" placeholder="Password" required>
        <button type="submit">Login</button>
      </form>
    </div>

    <div class="card" id="register">
      <input id="regEmail" type="email" placeholder="Email" required>
      <input id="regPassword" type="password" placeholder="Password" required>
      <input id="regConfirm" type="password" placeholder="Confirm Password" required>
      <button onclick="registerUser()">Register</button>
    </div>

  </div>
</div>

<script>
/* DOM REFERENCES â€” IMPORTANT */
const welcomeScreen = document.getElementById("welcomeScreen");
const welcomeVideo = document.getElementById("welcomeVideo");
const loginVideo = document.getElementById("loginVideo");
const mainContainer = document.getElementById("mainContainer");

/* AUTO REDIRECT IF LOGGED IN */
if(localStorage.getItem("isLoggedIn")==="true"){
  window.location.href="dashboard.html";
}

function startApp(){
  welcomeScreen.style.display="none";
  welcomeVideo.style.display="none";
  loginVideo.style.display="block";
  mainContainer.style.display="flex";
}

function openTab(id,btn){
  document.querySelectorAll(".card").forEach(c=>c.classList.remove("active"));
  document.getElementById(id).classList.add("active");

  document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
}

function registerUser(){
  if(regPassword.value !== regConfirm.value){
    alert("Passwords not matching");
    return;
  }
  localStorage.setItem("email", regEmail.value);
  localStorage.setItem("password", regPassword.value);
  alert("Registered successfully");
  openTab("login", document.querySelector(".tab-btn"));
}

loginForm.addEventListener("submit", e=>{
  e.preventDefault();
  if(
    loginEmail.value === localStorage.getItem("email") &&
    loginPassword.value === localStorage.getItem("password")
  ){
    localStorage.setItem("isLoggedIn","true");
    window.location.href="dashboard.html";
  }else{
    alert("Invalid login");
  }
});
</script>

</body>
</html>
